<div class="omr-dashboard-container">
  <div class="container">
    <h1>OMR Sheet Management</h1>

    <!-- Loading State -->
    <div *ngIf="loading" class="loading-container">
      <mat-spinner diameter="50"></mat-spinner>
      <p>Loading exams...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="error && !loading" class="error-container">
      <mat-icon>error_outline</mat-icon>
      <p>{{ error }}</p>
      <button mat-raised-button color="primary" (click)="loadExams()">Retry</button>
    </div>

    <!-- Exams List -->
    <div *ngIf="exams.length && !loading" class="exams-list">
      <div *ngFor="let exam of exams" class="exam-card">
        <div class="exam-header">
          <h3>{{ exam.name }}</h3>
          <span class="exam-mode">{{ exam.examMode || 'MCQ' }}</span>
        </div>
        <div class="exam-actions">
          <button mat-raised-button color="primary" (click)="issueOmrCode(exam._id)">
            Issue OMR Code
          </button>
          <button mat-raised-button [routerLink]="['/account/omr/scan', exam._id]">
            Upload Scan
          </button>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="!exams.length && !loading && !error" class="empty-state">
      <mat-icon>description</mat-icon>
      <p>No OMR-enabled exams available</p>
    </div>
  </div>
</div>
